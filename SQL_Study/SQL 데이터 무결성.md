# 2021.01.15(SQL-데이터 무결성)


### 1. 데이터 무결성을 위한 제약조건 4가지는?

> 데이터 무결성 제약조건

- 테이블에 부적절한 자료가 입력되는 것을 방지하기위해 테이블을 생성할 때, 각 컬럼에 대해서 정의하는 여러가지 규칙이다.

**무결성**

- 데이터베이스 내에 있는 데이터의 정확성 유지

**제약조건**

- 바람직하지 않은 데이터가 저장되는것을 방지

**종류**

 **1. NOT NULL**

- 특정 컬럼은 반드시 값이 입력되도록 필수 입력 컬럼으로 지정

```sql
-- NOT NULL의 선언법
CREATE TABLE 테이블 이름(컬럼명 타입 NOT NULL, ...);
```

 **2. UNIQUE**

- 특정 컬럼에 대해 자료가 중복되지 않게 하는 것이다.
- 지정된 컬럼에는 유일한 값만 저장되게 하는 것이다.
- NOT NULL과 함께사용가능

```sql
-- UNIQUE의 예
CREATE TABLE 테이블명(컬럼명 타입 UNIQUE, ...);
```

 **3. PRIMARY KEY**

- UNIQUE 제약조건 + NOT NULL 제약조건의 특징을 가지고있다.

```sql
-- PRIMARY KEY의 예
CREATE TABLE 테이블명(컬럼명 타입 PRIMARY KEY, ...);
```

 **4. FOREIGN KEY**

- 두 테이블을 서로 연결하는데 사용되는 키
- FOREIGN KEY를 포함한 테이블은 자식테이블, 제공하는 테이블은 부모테이블이다.
- 값이 NULL이거나 부모테이블의 기본키 값과 동일해야한다.

```sql
--FOREIGN KEY의 예
CREATE TABLE 테이블명(컬럼명 타입 ... , CONSTRAINTS 외래키이름
FOREIGN KEY(컬럼명) REFERENCES 참조 테이블명(참조컬럼)
);

```

---

### 3. foreign key 에 대하여 설명하시오.

> FOREIGN KEY

- 두 테이블의 데이터 간 연결을 설정하고 강제 적용하는데 사용되는 열이다.
- 부모 테이블이 먼저 생성된 후 자식 테이블이 생성되어야 한다.
- 부모테이블의 PRIMARY KEY,UNIQUE만 참조할 수 있고, 컬럼의 값과 일치하거나 NULL을 허용하는 경우  NULL 값이어야 한다.
- 부모테이블의 컬럼명과 자식테이블의 컬럼명은 일치하지 않아도 되지만 자료형은 일치해야 한다.

---

### 4. 쿼리 문제

```sql
--Q1> 직업이 Clerk 인 사원들보다 더 많은 급여를 받는 사원의 사원번호, 이름, 급여를 출력하되, 결과를 급여가 높은 순으로 정렬하라.

--Q2> 이름에 A가 들어가는 사원과 같은 직업을 가진 사원의 이름과 월급, 부서번호를 출력하라.

--Q3> New  York 에서 근무하는 사원과 급여 및 커미션이 같은 사원의 사원이름과 부서명을 출력하라.

```

- 쿼리 답

